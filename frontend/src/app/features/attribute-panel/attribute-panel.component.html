<div class="h-full flex flex-col">
  <!-- Header -->
  <div class="p-4 border-b border-gray-200">
    <div class="flex items-center justify-between mb-2">
      <h2 class="text-sm font-semibold text-gray-700">物件属性</h2>
      <div class="flex items-center gap-2">
        <select
          [ngModel]="sessionService.filterStatus()"
          (ngModelChange)="onFilterChange($event)"
          class="text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary"
        >
          <option value="all">すべて</option>
          <option value="done">完了</option>
          <option value="pending">確認中</option>
        </select>
      </div>
    </div>
    @if (sessionService.activePropertyDetails()) {
      <div class="flex items-center gap-3 text-xs text-gray-500">
        <span>全 {{ sessionService.stats().total }} 項目</span>
        <span class="text-green-600">完了 {{ sessionService.stats().done }}</span>
        <span class="text-yellow-600">確認中 {{ sessionService.stats().pending }}</span>
      </div>
    }
  </div>

  <!-- Content -->
  <div class="flex-1 overflow-y-auto">
    @if (sessionService.activePropertyDetails()) {
      <div class="p-3 space-y-2">
        @for (group of sessionService.categoryGroups(); track group.category; let i = $index) {
          <app-category-group [group]="group" [index]="i + 1" />
        }
      </div>
    } @else {
      <div class="flex items-center justify-center h-full text-gray-400 text-sm">
        PDFをアップロードして物件情報を表示
      </div>
    }
  </div>
</div>
