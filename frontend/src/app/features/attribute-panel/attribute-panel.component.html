<div class="h-full flex flex-col">
  <!-- Header -->
  <div class="p-4 border-b border-gray-200 flex items-center justify-between">
    <div class="flex items-center gap-2">
      @if (sessionService.stats().pending > 0) {
        <span class="px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded">
          Pending
        </span>
      }
    </div>
    <div class="flex items-center gap-2">
      <span class="text-xs text-gray-500">Filter</span>
      <select
        [ngModel]="sessionService.filterStatus()"
        (ngModelChange)="onFilterChange($event)"
        class="text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-primary"
      >
        <option value="all">All</option>
        <option value="done">Done</option>
        <option value="pending">Pending</option>
      </select>
    </div>
  </div>

  <!-- Content -->
  <div class="flex-1 overflow-y-auto">
    @if (sessionService.activePropertyDetails()) {
      <div class="p-4 space-y-4">
        @for (group of sessionService.categoryGroups(); track group.category) {
          <app-category-group [group]="group" />
        }
      </div>
    } @else {
      <div class="flex items-center justify-center h-full text-gray-400 text-sm">
        Upload a PDF to see property details
      </div>
    }
  </div>

  <!-- Stats Footer -->
  @if (sessionService.activePropertyDetails()) {
    <div class="p-3 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500">
      <span>Total: {{ sessionService.stats().total }} fields</span>
      <div class="flex gap-3">
        <span class="text-status-done">Done: {{ sessionService.stats().done }}</span>
        <span class="text-status-pending">Pending: {{ sessionService.stats().pending }}</span>
      </div>
    </div>
  }
</div>
